<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Appendix B — Deployment and Compute – Genomic Foundation Models</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../appendix/app-c-data-curation.html" rel="next">
<link href="../appendix/app-a-dl.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../appendix/app-a-dl.html">Appendices</a></li><li class="breadcrumb-item"><a href="../appendix/app-b-compute.html"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Deployment and Compute</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Genomic Foundation Models</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../part_1/p1--foundations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Part I: Data Foundations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_1/p1-ch01-ngs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">From Reads to Variants</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_1/p1-ch02-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data Landscape</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_1/p1-ch03-gwas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">GWAS and Polygenic Scores</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_1/p1-ch04-vep-classical.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Classical Variant Prediction</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../part_2/p2--principles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Part II: Sequence Architectures</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_2/p2-ch05-representations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Tokens and Embeddings</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_2/p2-ch06-cnn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Convolutional Networks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_2/p2-ch07-attention.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Transformers and Attention</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_2/p2-ch08-pretraining.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Pretraining Strategies</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_2/p2-ch09-transfer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Transfer Learning Foundations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_2/p2-ch10-adaptation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Adaptation Strategies</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_2/p2-ch11-benchmarks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Benchmarks and Evaluation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_2/p2-ch12-confounding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Confounding and Data Leakage</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../part_3/p3--architectures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Part III: Foundation Model Families</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_3/p3-ch13-fm-principles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Foundation Model Paradigm</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_3/p3-ch14-dna-lm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">DNA Language Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_3/p3-ch15-protein-lm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Protein Language Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_3/p3-ch16-regulatory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Regulatory Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_3/p3-ch17-vep-fm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Variant Effect Prediction</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../part_4/p4--cellular-context.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Part IV: Cellular Context</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_4/p4-ch18-rna.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">RNA Structure and Function</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_4/p4-ch19-single-cell.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Single-Cell Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_4/p4-ch20-3d-genome.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">3D Genome Organization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_4/p4-ch21-networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Graph and Network Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_4/p4-ch22-multi-omics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Multi-Omics Integration</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../part_5/p5--responsible-deployment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Part V: Evaluation and Trust</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_5/p5-ch23-uncertainty.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Uncertainty Quantification</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_5/p5-ch24-interpretability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Interpretability</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_5/p5-ch25-causal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Causal Inference with Foundation Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_5/p5-ch26-regulatory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Regulatory and Governance</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../part_6/p6--applications.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Part VI: Clinical Translation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_6/p6-ch27-clinical-risk.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Clinical Risk Prediction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_6/p6-ch28-rare-disease.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Rare Disease Diagnosis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_6/p6-ch29-drug-discovery.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Drug Discovery</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_6/p6-ch30-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Sequence Design</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../part_6/p6-ch31-frontiers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Frontiers and Synthesis</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bib/references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendix/app-a-dl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Deep Learning Primer</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendix/app-b-compute.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Deployment and Compute</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendix/app-c-data-curation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Data Curation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendix/app-d-models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Model Reference</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendix/app-e-resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Resources</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendix/app-f-glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">F</span>&nbsp; <span class="chapter-title">Glossary</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-apx-b-hardware" id="toc-sec-apx-b-hardware" class="nav-link active" data-scroll-target="#sec-apx-b-hardware"><span class="header-section-number">B.1</span> Hardware Landscape</a>
  <ul class="collapse">
  <li><a href="#gpu-computing" id="toc-gpu-computing" class="nav-link" data-scroll-target="#gpu-computing"><span class="header-section-number">B.1.1</span> GPU Computing</a></li>
  <li><a href="#consumer-vs.-data-center-gpus" id="toc-consumer-vs.-data-center-gpus" class="nav-link" data-scroll-target="#consumer-vs.-data-center-gpus"><span class="header-section-number">B.1.2</span> Consumer vs.&nbsp;Data Center GPUs</a></li>
  <li><a href="#tpus" id="toc-tpus" class="nav-link" data-scroll-target="#tpus"><span class="header-section-number">B.1.3</span> TPUs</a></li>
  <li><a href="#multi-gpu-and-distributed-training" id="toc-multi-gpu-and-distributed-training" class="nav-link" data-scroll-target="#multi-gpu-and-distributed-training"><span class="header-section-number">B.1.4</span> Multi-GPU and Distributed Training</a></li>
  <li><a href="#cpu-inference" id="toc-cpu-inference" class="nav-link" data-scroll-target="#cpu-inference"><span class="header-section-number">B.1.5</span> CPU Inference</a></li>
  </ul></li>
  <li><a href="#sec-apx-b-cloud" id="toc-sec-apx-b-cloud" class="nav-link" data-scroll-target="#sec-apx-b-cloud"><span class="header-section-number">B.2</span> Cloud Platforms</a>
  <ul class="collapse">
  <li><a href="#major-providers" id="toc-major-providers" class="nav-link" data-scroll-target="#major-providers"><span class="header-section-number">B.2.1</span> Major Providers</a></li>
  <li><a href="#cost-considerations" id="toc-cost-considerations" class="nav-link" data-scroll-target="#cost-considerations"><span class="header-section-number">B.2.2</span> Cost Considerations</a></li>
  <li><a href="#managed-ml-platforms" id="toc-managed-ml-platforms" class="nav-link" data-scroll-target="#managed-ml-platforms"><span class="header-section-number">B.2.3</span> Managed ML Platforms</a></li>
  </ul></li>
  <li><a href="#sec-apx-b-deployment" id="toc-sec-apx-b-deployment" class="nav-link" data-scroll-target="#sec-apx-b-deployment"><span class="header-section-number">B.3</span> Model Deployment</a>
  <ul class="collapse">
  <li><a href="#inference-servers" id="toc-inference-servers" class="nav-link" data-scroll-target="#inference-servers"><span class="header-section-number">B.3.1</span> Inference Servers</a></li>
  <li><a href="#api-design" id="toc-api-design" class="nav-link" data-scroll-target="#api-design"><span class="header-section-number">B.3.2</span> API Design</a></li>
  <li><a href="#containerization" id="toc-containerization" class="nav-link" data-scroll-target="#containerization"><span class="header-section-number">B.3.3</span> Containerization</a></li>
  <li><a href="#kubernetes-deployment" id="toc-kubernetes-deployment" class="nav-link" data-scroll-target="#kubernetes-deployment"><span class="header-section-number">B.3.4</span> Kubernetes Deployment</a></li>
  </ul></li>
  <li><a href="#sec-apx-b-optimization" id="toc-sec-apx-b-optimization" class="nav-link" data-scroll-target="#sec-apx-b-optimization"><span class="header-section-number">B.4</span> Inference Optimization</a>
  <ul class="collapse">
  <li><a href="#quantization" id="toc-quantization" class="nav-link" data-scroll-target="#quantization"><span class="header-section-number">B.4.1</span> Quantization</a></li>
  <li><a href="#model-pruning" id="toc-model-pruning" class="nav-link" data-scroll-target="#model-pruning"><span class="header-section-number">B.4.2</span> Model Pruning</a></li>
  <li><a href="#knowledge-distillation" id="toc-knowledge-distillation" class="nav-link" data-scroll-target="#knowledge-distillation"><span class="header-section-number">B.4.3</span> Knowledge Distillation</a></li>
  <li><a href="#onnx-and-tensorrt" id="toc-onnx-and-tensorrt" class="nav-link" data-scroll-target="#onnx-and-tensorrt"><span class="header-section-number">B.4.4</span> ONNX and TensorRT</a></li>
  <li><a href="#caching-and-batching" id="toc-caching-and-batching" class="nav-link" data-scroll-target="#caching-and-batching"><span class="header-section-number">B.4.5</span> Caching and Batching</a></li>
  </ul></li>
  <li><a href="#sec-apx-b-monitoring" id="toc-sec-apx-b-monitoring" class="nav-link" data-scroll-target="#sec-apx-b-monitoring"><span class="header-section-number">B.5</span> Benchmarking and Monitoring</a>
  <ul class="collapse">
  <li><a href="#performance-metrics" id="toc-performance-metrics" class="nav-link" data-scroll-target="#performance-metrics"><span class="header-section-number">B.5.1</span> Performance Metrics</a></li>
  <li><a href="#monitoring-stack" id="toc-monitoring-stack" class="nav-link" data-scroll-target="#monitoring-stack"><span class="header-section-number">B.5.2</span> Monitoring Stack</a></li>
  <li><a href="#load-testing" id="toc-load-testing" class="nav-link" data-scroll-target="#load-testing"><span class="header-section-number">B.5.3</span> Load Testing</a></li>
  </ul></li>
  <li><a href="#sec-apx-b-cost" id="toc-sec-apx-b-cost" class="nav-link" data-scroll-target="#sec-apx-b-cost"><span class="header-section-number">B.6</span> Cost Optimization</a>
  <ul class="collapse">
  <li><a href="#right-sizing" id="toc-right-sizing" class="nav-link" data-scroll-target="#right-sizing"><span class="header-section-number">B.6.1</span> Right-Sizing</a></li>
  <li><a href="#autoscaling" id="toc-autoscaling" class="nav-link" data-scroll-target="#autoscaling"><span class="header-section-number">B.6.2</span> Autoscaling</a></li>
  <li><a href="#batch-processing" id="toc-batch-processing" class="nav-link" data-scroll-target="#batch-processing"><span class="header-section-number">B.6.3</span> Batch Processing</a></li>
  <li><a href="#model-selection" id="toc-model-selection" class="nav-link" data-scroll-target="#model-selection"><span class="header-section-number">B.6.4</span> Model Selection</a></li>
  </ul></li>
  <li><a href="#sec-apx-b-security" id="toc-sec-apx-b-security" class="nav-link" data-scroll-target="#sec-apx-b-security"><span class="header-section-number">B.7</span> Security Considerations</a>
  <ul class="collapse">
  <li><a href="#data-privacy" id="toc-data-privacy" class="nav-link" data-scroll-target="#data-privacy"><span class="header-section-number">B.7.1</span> Data Privacy</a></li>
  <li><a href="#model-security" id="toc-model-security" class="nav-link" data-scroll-target="#model-security"><span class="header-section-number">B.7.2</span> Model Security</a></li>
  <li><a href="#federated-learning" id="toc-federated-learning" class="nav-link" data-scroll-target="#federated-learning"><span class="header-section-number">B.7.3</span> Federated Learning</a></li>
  </ul></li>
  <li><a href="#sec-apx-b-architecture" id="toc-sec-apx-b-architecture" class="nav-link" data-scroll-target="#sec-apx-b-architecture"><span class="header-section-number">B.8</span> Reference Architecture</a></li>
  <li><a href="#sec-apx-b-checklist" id="toc-sec-apx-b-checklist" class="nav-link" data-scroll-target="#sec-apx-b-checklist"><span class="header-section-number">B.9</span> Checklist for Production Deployment</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../appendix/app-a-dl.html">Appendices</a></li><li class="breadcrumb-item"><a href="../appendix/app-b-compute.html"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Deployment and Compute</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-apx-b-compute" class="quarto-section-identifier">Appendix B — Deployment and Compute</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This appendix covers practical considerations for deploying genomic foundation models, from hardware requirements and cloud platforms to inference optimization and production deployment. The goal is to help practitioners translate model capabilities into working systems that can process real genomic data at scale.</p>
<section id="sec-apx-b-hardware" class="level2" data-number="B.1">
<h2 data-number="B.1" class="anchored" data-anchor-id="sec-apx-b-hardware"><span class="header-section-number">B.1</span> Hardware Landscape</h2>
<p>Genomic foundation models span a wide range of computational requirements. Understanding hardware options helps practitioners match resources to their specific needs.</p>
<section id="gpu-computing" class="level3" data-number="B.1.1">
<h3 data-number="B.1.1" class="anchored" data-anchor-id="gpu-computing"><span class="header-section-number">B.1.1</span> GPU Computing</h3>
<p><strong>Graphics Processing Units (GPUs)</strong> are the workhorses of deep learning, providing thousands of parallel cores optimized for matrix operations. Key specifications:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 40%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th>Metric</th>
<th>Description</th>
<th>Relevance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>VRAM</strong></td>
<td>GPU memory</td>
<td>Determines maximum model/batch size</td>
</tr>
<tr class="even">
<td><strong>Compute (TFLOPS)</strong></td>
<td>Floating-point operations per second</td>
<td>Determines training/inference speed</td>
</tr>
<tr class="odd">
<td><strong>Memory bandwidth</strong></td>
<td>Data transfer rate</td>
<td>Critical for transformer attention</td>
</tr>
<tr class="even">
<td><strong>Tensor cores</strong></td>
<td>Specialized matrix units</td>
<td>Accelerate mixed-precision operations</td>
</tr>
</tbody>
</table>
</section>
<section id="consumer-vs.-data-center-gpus" class="level3" data-number="B.1.2">
<h3 data-number="B.1.2" class="anchored" data-anchor-id="consumer-vs.-data-center-gpus"><span class="header-section-number">B.1.2</span> Consumer vs.&nbsp;Data Center GPUs</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>GPU Class</th>
<th>Examples</th>
<th>VRAM</th>
<th>Use Case</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Consumer</td>
<td>RTX 4090</td>
<td>24 GB</td>
<td>Small model inference, development</td>
</tr>
<tr class="even">
<td>Workstation</td>
<td>RTX A6000</td>
<td>48 GB</td>
<td>Medium model training/inference</td>
</tr>
<tr class="odd">
<td>Data center</td>
<td>A100</td>
<td>40/80 GB</td>
<td>Large model training</td>
</tr>
<tr class="even">
<td>Latest generation</td>
<td>H100</td>
<td>80 GB</td>
<td>Foundation model training</td>
</tr>
</tbody>
</table>
<p><strong>Memory is typically the bottleneck.</strong> A 3-billion parameter model in FP16 requires approximately 6 GB just for weights, plus additional memory for activations, gradients (if training), and KV cache (for transformers). The A100 80GB enables training models that would require multi-GPU setups on smaller cards.</p>
</section>
<section id="tpus" class="level3" data-number="B.1.3">
<h3 data-number="B.1.3" class="anchored" data-anchor-id="tpus"><span class="header-section-number">B.1.3</span> TPUs</h3>
<p><strong>Tensor Processing Units (TPUs)</strong> are Google’s custom accelerators, available through Google Cloud. They offer:</p>
<ul>
<li>High memory bandwidth optimized for matrix operations</li>
<li>Efficient multi-device scaling through dedicated interconnects</li>
<li>Cost-effective for large-scale training</li>
</ul>
<p>Many DeepMind models (<em>AlphaFold</em>, <em>Enformer</em>) were trained on TPUs. The JAX framework provides the best TPU support.</p>
</section>
<section id="multi-gpu-and-distributed-training" class="level3" data-number="B.1.4">
<h3 data-number="B.1.4" class="anchored" data-anchor-id="multi-gpu-and-distributed-training"><span class="header-section-number">B.1.4</span> Multi-GPU and Distributed Training</h3>
<p>Large models require multiple GPUs:</p>
<p><strong>Data parallelism</strong> replicates the model across GPUs, each processing different batches. Gradients are synchronized after each step. Scales batch size but not model size.</p>
<p><strong>Model parallelism</strong> splits the model across GPUs: - <strong>Tensor parallelism</strong>: Splits individual layers across GPUs - <strong>Pipeline parallelism</strong>: Assigns different layers to different GPUs</p>
<p><strong>Fully Sharded Data Parallel (FSDP)</strong> and <strong>DeepSpeed ZeRO</strong> combine approaches, sharding model states across GPUs to train models larger than any single GPU’s memory.</p>
</section>
<section id="cpu-inference" class="level3" data-number="B.1.5">
<h3 data-number="B.1.5" class="anchored" data-anchor-id="cpu-inference"><span class="header-section-number">B.1.5</span> CPU Inference</h3>
<p>For smaller models or low-throughput applications, CPU inference may suffice:</p>
<ul>
<li>Avoids GPU procurement and maintenance</li>
<li>Enables deployment on standard servers</li>
<li>Suitable for models with &lt;1B parameters</li>
<li>Can be accelerated with ONNX Runtime, Intel MKL</li>
</ul>
</section>
</section>
<section id="sec-apx-b-cloud" class="level2" data-number="B.2">
<h2 data-number="B.2" class="anchored" data-anchor-id="sec-apx-b-cloud"><span class="header-section-number">B.2</span> Cloud Platforms</h2>
<p>Cloud computing provides on-demand access to GPU resources without capital expenditure.</p>
<section id="major-providers" class="level3" data-number="B.2.1">
<h3 data-number="B.2.1" class="anchored" data-anchor-id="major-providers"><span class="header-section-number">B.2.1</span> Major Providers</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Provider</th>
<th>GPU Options</th>
<th>Strengths</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>AWS</strong></td>
<td>A100, H100, Trainium</td>
<td>Broadest ecosystem, SageMaker</td>
</tr>
<tr class="even">
<td><strong>Google Cloud</strong></td>
<td>A100, TPU v4/v5</td>
<td>TPU access, Vertex AI</td>
</tr>
<tr class="odd">
<td><strong>Azure</strong></td>
<td>A100, H100</td>
<td>Enterprise integration, Azure ML</td>
</tr>
<tr class="even">
<td><strong>Lambda Labs</strong></td>
<td>A100, H100</td>
<td>ML-focused, simpler pricing</td>
</tr>
<tr class="odd">
<td><strong>CoreWeave</strong></td>
<td>A100, H100</td>
<td>GPU-specialized, Kubernetes-native</td>
</tr>
</tbody>
</table>
</section>
<section id="cost-considerations" class="level3" data-number="B.2.2">
<h3 data-number="B.2.2" class="anchored" data-anchor-id="cost-considerations"><span class="header-section-number">B.2.2</span> Cost Considerations</h3>
<p>GPU costs vary significantly:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Resource</th>
<th>Approximate Cost (2024)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>A100 40GB (on-demand)</td>
<td>$3–4/hour</td>
</tr>
<tr class="even">
<td>A100 80GB (on-demand)</td>
<td>$4–5/hour</td>
</tr>
<tr class="odd">
<td>H100 (on-demand)</td>
<td>$5–8/hour</td>
</tr>
<tr class="even">
<td>A100 (spot/preemptible)</td>
<td>$1–2/hour</td>
</tr>
</tbody>
</table>
<p><strong>Spot instances</strong> offer 60–80% discounts but can be interrupted. Suitable for: - Checkpointed training runs - Batch inference jobs - Non-time-critical workloads</p>
<p><strong>Reserved instances</strong> provide discounts for committed usage but require upfront planning.</p>
</section>
<section id="managed-ml-platforms" class="level3" data-number="B.2.3">
<h3 data-number="B.2.3" class="anchored" data-anchor-id="managed-ml-platforms"><span class="header-section-number">B.2.3</span> Managed ML Platforms</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Platform</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>AWS SageMaker</strong></td>
<td>Training, hosting, MLOps pipelines</td>
</tr>
<tr class="even">
<td><strong>Google Vertex AI</strong></td>
<td>Training, prediction, feature store</td>
</tr>
<tr class="odd">
<td><strong>Azure ML</strong></td>
<td>Training, deployment, monitoring</td>
</tr>
<tr class="even">
<td><strong>HuggingFace Inference Endpoints</strong></td>
<td>One-click model deployment</td>
</tr>
</tbody>
</table>
<p>These platforms handle infrastructure but add cost overhead. They’re valuable for production deployments requiring reliability, monitoring, and scaling.</p>
</section>
</section>
<section id="sec-apx-b-deployment" class="level2" data-number="B.3">
<h2 data-number="B.3" class="anchored" data-anchor-id="sec-apx-b-deployment"><span class="header-section-number">B.3</span> Model Deployment</h2>
<p>Deploying a model for real-world use requires careful consideration of latency, throughput, reliability, and cost.</p>
<section id="inference-servers" class="level3" data-number="B.3.1">
<h3 data-number="B.3.1" class="anchored" data-anchor-id="inference-servers"><span class="header-section-number">B.3.1</span> Inference Servers</h3>
<p><strong>Specialized inference servers</strong> optimize model serving:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Server</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>NVIDIA Triton</strong></td>
<td>Multi-framework, dynamic batching, model ensemble</td>
</tr>
<tr class="even">
<td><strong>vLLM</strong></td>
<td>Optimized for LLM inference, PagedAttention</td>
</tr>
<tr class="odd">
<td><strong>TGI (Text Generation Inference)</strong></td>
<td>HuggingFace’s optimized inference server</td>
</tr>
<tr class="even">
<td><strong>TorchServe</strong></td>
<td>PyTorch-native, simple deployment</td>
</tr>
</tbody>
</table>
<p>These servers provide: - <strong>Dynamic batching</strong>: Combine requests for efficient GPU utilization - <strong>Model warmup</strong>: Pre-load models to reduce cold start - <strong>Health checks</strong>: Monitor model availability - <strong>Metrics</strong>: Track latency, throughput, errors</p>
</section>
<section id="api-design" class="level3" data-number="B.3.2">
<h3 data-number="B.3.2" class="anchored" data-anchor-id="api-design"><span class="header-section-number">B.3.2</span> API Design</h3>
<p>A typical genomic model API accepts sequences and returns predictions:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Request</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"sequences"</span>: [<span class="st">"ATCGATCG..."</span>, <span class="st">"GCTAGCTA..."</span>],</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"return_embeddings"</span>: false</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Response</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"predictions"</span>: [</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        {<span class="st">"pathogenicity"</span>: <span class="fl">0.87</span>, <span class="st">"confidence"</span>: <span class="fl">0.92</span>},</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>        {<span class="st">"pathogenicity"</span>: <span class="fl">0.12</span>, <span class="st">"confidence"</span>: <span class="fl">0.95</span>}</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"model_version"</span>: <span class="st">"v2.1.0"</span>,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"processing_time_ms"</span>: <span class="dv">145</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Design considerations: - <strong>Batch endpoints</strong> for throughput-critical applications - <strong>Streaming</strong> for large outputs (embeddings, long sequences) - <strong>Versioning</strong> to manage model updates - <strong>Input validation</strong> to catch malformed sequences early</p>
</section>
<section id="containerization" class="level3" data-number="B.3.3">
<h3 data-number="B.3.3" class="anchored" data-anchor-id="containerization"><span class="header-section-number">B.3.3</span> Containerization</h3>
<p><strong>Docker containers</strong> package models with dependencies:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode dockerfile code-with-copy"><code class="sourceCode dockerfile"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> pytorch/pytorch:2.0.0-cuda11.7</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> requirements.txt .</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="kw">RUN</span> <span class="ex">pip</span> install <span class="at">-r</span> requirements.txt</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> model/ /app/model/</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> serve.py /app/</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="kw">EXPOSE</span> 8080</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="kw">CMD</span> [<span class="st">"python"</span>, <span class="st">"/app/serve.py"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Containers provide: - Reproducible environments - Easy deployment across platforms - Isolation from host system - Simplified scaling with Kubernetes</p>
</section>
<section id="kubernetes-deployment" class="level3" data-number="B.3.4">
<h3 data-number="B.3.4" class="anchored" data-anchor-id="kubernetes-deployment"><span class="header-section-number">B.3.4</span> Kubernetes Deployment</h3>
<p><strong>Kubernetes</strong> orchestrates containerized model deployments:</p>
<ul>
<li><strong>Horizontal scaling</strong>: Add/remove replicas based on load</li>
<li><strong>GPU scheduling</strong>: Allocate GPUs to pods</li>
<li><strong>Rolling updates</strong>: Deploy new versions without downtime</li>
<li><strong>Resource limits</strong>: Prevent runaway memory/compute usage</li>
</ul>
<p>Example deployment:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> apps/v1</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Deployment</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> variant-predictor</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">replicas</span><span class="kw">:</span><span class="at"> </span><span class="dv">3</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> model</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">image</span><span class="kw">:</span><span class="at"> variant-predictor:v2.1</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">resources</span><span class="kw">:</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">limits</span><span class="kw">:</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">nvidia.com/gpu</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">memory</span><span class="kw">:</span><span class="at"> </span><span class="st">"32Gi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="sec-apx-b-optimization" class="level2" data-number="B.4">
<h2 data-number="B.4" class="anchored" data-anchor-id="sec-apx-b-optimization"><span class="header-section-number">B.4</span> Inference Optimization</h2>
<p>Optimizing inference reduces latency and cost.</p>
<section id="quantization" class="level3" data-number="B.4.1">
<h3 data-number="B.4.1" class="anchored" data-anchor-id="quantization"><span class="header-section-number">B.4.1</span> Quantization</h3>
<p><strong>Quantization</strong> reduces numerical precision to decrease memory and computation:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Precision</th>
<th>Bits</th>
<th>Memory</th>
<th>Speed</th>
<th>Quality</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>FP32</td>
<td>32</td>
<td>1×</td>
<td>1×</td>
<td>Baseline</td>
</tr>
<tr class="even">
<td>FP16/BF16</td>
<td>16</td>
<td>0.5×</td>
<td>~2×</td>
<td>Minimal loss</td>
</tr>
<tr class="odd">
<td>INT8</td>
<td>8</td>
<td>0.25×</td>
<td>~4×</td>
<td>Small loss</td>
</tr>
<tr class="even">
<td>INT4</td>
<td>4</td>
<td>0.125×</td>
<td>~8×</td>
<td>Moderate loss</td>
</tr>
</tbody>
</table>
<p><strong>Post-training quantization</strong> converts trained models without retraining. Works well for INT8; INT4 may require calibration data or quality monitoring.</p>
<p><strong>Quantization-aware training</strong> incorporates quantization during training for better INT4/INT8 quality.</p>
<p>For genomic models: - FP16/BF16 is standard and nearly lossless - INT8 often acceptable for classification tasks - INT4 requires careful validation, especially for regression outputs</p>
</section>
<section id="model-pruning" class="level3" data-number="B.4.2">
<h3 data-number="B.4.2" class="anchored" data-anchor-id="model-pruning"><span class="header-section-number">B.4.2</span> Model Pruning</h3>
<p><strong>Pruning</strong> removes unimportant weights:</p>
<ul>
<li><strong>Magnitude pruning</strong>: Remove weights below threshold</li>
<li><strong>Structured pruning</strong>: Remove entire neurons/attention heads</li>
<li><strong>Movement pruning</strong>: Remove weights based on training dynamics</li>
</ul>
<p>Pruning can achieve 50–90% sparsity with minimal accuracy loss on some tasks, but requires model-specific tuning.</p>
</section>
<section id="knowledge-distillation" class="level3" data-number="B.4.3">
<h3 data-number="B.4.3" class="anchored" data-anchor-id="knowledge-distillation"><span class="header-section-number">B.4.3</span> Knowledge Distillation</h3>
<p><strong>Distillation</strong> trains a smaller “student” model to mimic a larger “teacher”:</p>
<ol type="1">
<li>Run teacher model on large unlabeled corpus</li>
<li>Train student to match teacher outputs (soft labels)</li>
<li>Student learns compressed version of teacher’s knowledge</li>
</ol>
<p>Effective for: - Deploying on resource-constrained devices - Reducing inference cost for high-volume applications - Creating task-specific lightweight models</p>
</section>
<section id="onnx-and-tensorrt" class="level3" data-number="B.4.4">
<h3 data-number="B.4.4" class="anchored" data-anchor-id="onnx-and-tensorrt"><span class="header-section-number">B.4.4</span> ONNX and TensorRT</h3>
<p><strong>ONNX</strong> (Open Neural Network Exchange) provides a portable model format:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> torch.onnx</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>torch.onnx.export(model, sample_input, <span class="st">"model.onnx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>TensorRT</strong> optimizes ONNX models for NVIDIA GPUs: - Layer fusion - Kernel auto-tuning - Precision calibration</p>
<p>TensorRT can provide 2–5× speedup over naive PyTorch inference.</p>
</section>
<section id="caching-and-batching" class="level3" data-number="B.4.5">
<h3 data-number="B.4.5" class="anchored" data-anchor-id="caching-and-batching"><span class="header-section-number">B.4.5</span> Caching and Batching</h3>
<p><strong>KV-cache</strong> stores attention key/value pairs for autoregressive generation, avoiding recomputation.</p>
<p><strong>Speculative decoding</strong> uses a small draft model to propose tokens, verified in parallel by the main model.</p>
<p><strong>Dynamic batching</strong> groups incoming requests: - Increases GPU utilization - Trades latency for throughput - Configurable wait time and batch size limits</p>
</section>
</section>
<section id="sec-apx-b-monitoring" class="level2" data-number="B.5">
<h2 data-number="B.5" class="anchored" data-anchor-id="sec-apx-b-monitoring"><span class="header-section-number">B.5</span> Benchmarking and Monitoring</h2>
<section id="performance-metrics" class="level3" data-number="B.5.1">
<h3 data-number="B.5.1" class="anchored" data-anchor-id="performance-metrics"><span class="header-section-number">B.5.1</span> Performance Metrics</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 27%">
<col style="width: 44%">
<col style="width: 27%">
</colgroup>
<thead>
<tr class="header">
<th>Metric</th>
<th>Description</th>
<th>Target</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Latency (p50)</strong></td>
<td>Median response time</td>
<td>Application-dependent</td>
</tr>
<tr class="even">
<td><strong>Latency (p99)</strong></td>
<td>99th percentile response time</td>
<td>Critical for SLAs</td>
</tr>
<tr class="odd">
<td><strong>Throughput</strong></td>
<td>Requests/second</td>
<td>Scale with load</td>
</tr>
<tr class="even">
<td><strong>GPU utilization</strong></td>
<td>GPU compute usage</td>
<td>&gt;80% for efficiency</td>
</tr>
<tr class="odd">
<td><strong>Memory utilization</strong></td>
<td>GPU memory usage</td>
<td>Monitor for OOM</td>
</tr>
</tbody>
</table>
</section>
<section id="monitoring-stack" class="level3" data-number="B.5.2">
<h3 data-number="B.5.2" class="anchored" data-anchor-id="monitoring-stack"><span class="header-section-number">B.5.2</span> Monitoring Stack</h3>
<pre><code>Metrics → Prometheus → Grafana (visualization)
                    → AlertManager (alerts)

Logs → Elasticsearch → Kibana (search/analysis)

Traces → Jaeger/Zipkin (request tracing)</code></pre>
<p>Key monitoring points: - Request latency distribution - Error rates by error type - Queue depth (if using async processing) - Model prediction distribution (detect drift) - Input sequence characteristics (length, composition)</p>
</section>
<section id="load-testing" class="level3" data-number="B.5.3">
<h3 data-number="B.5.3" class="anchored" data-anchor-id="load-testing"><span class="header-section-number">B.5.3</span> Load Testing</h3>
<p>Before production deployment:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example with locust</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="ex">locust</span> <span class="at">-f</span> load_test.py <span class="at">--host</span><span class="op">=</span>http://model-api:8080 <span class="dt">\</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">--users</span><span class="op">=</span>100 <span class="at">--spawn-rate</span><span class="op">=</span>10 <span class="at">--run-time</span><span class="op">=</span>10m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Test scenarios: - Sustained load at expected traffic - Burst traffic (10× normal) - Long sequences (stress memory) - Concurrent batch requests</p>
</section>
</section>
<section id="sec-apx-b-cost" class="level2" data-number="B.6">
<h2 data-number="B.6" class="anchored" data-anchor-id="sec-apx-b-cost"><span class="header-section-number">B.6</span> Cost Optimization</h2>
<section id="right-sizing" class="level3" data-number="B.6.1">
<h3 data-number="B.6.1" class="anchored" data-anchor-id="right-sizing"><span class="header-section-number">B.6.1</span> Right-Sizing</h3>
<p>Match hardware to workload: - Don’t use A100 for models that fit on RTX 4090 - Use CPU inference for low-throughput applications - Consider spot instances for batch processing</p>
</section>
<section id="autoscaling" class="level3" data-number="B.6.2">
<h3 data-number="B.6.2" class="anchored" data-anchor-id="autoscaling"><span class="header-section-number">B.6.2</span> Autoscaling</h3>
<p>Scale resources with demand:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Kubernetes HPA example</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> autoscaling/v2</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> HorizontalPodAutoscaler</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">minReplicas</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">maxReplicas</span><span class="kw">:</span><span class="at"> </span><span class="dv">10</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">metrics</span><span class="kw">:</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Resource</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">resource</span><span class="kw">:</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> cpu</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">target</span><span class="kw">:</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Utilization</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">averageUtilization</span><span class="kw">:</span><span class="at"> </span><span class="dv">70</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Scale-to-zero during idle periods for significant savings.</p>
</section>
<section id="batch-processing" class="level3" data-number="B.6.3">
<h3 data-number="B.6.3" class="anchored" data-anchor-id="batch-processing"><span class="header-section-number">B.6.3</span> Batch Processing</h3>
<p>For non-real-time workloads: - Accumulate requests and process in batches - Use spot instances with checkpointing - Schedule during off-peak hours for lower costs</p>
</section>
<section id="model-selection" class="level3" data-number="B.6.4">
<h3 data-number="B.6.4" class="anchored" data-anchor-id="model-selection"><span class="header-section-number">B.6.4</span> Model Selection</h3>
<p>Choose appropriately sized models: - 110M parameter <em>DNABERT</em> vs.&nbsp;2.5B <em>Nucleotide Transformer</em> - Evaluate if larger model accuracy justifies cost - Consider distilled/pruned versions for production</p>
</section>
</section>
<section id="sec-apx-b-security" class="level2" data-number="B.7">
<h2 data-number="B.7" class="anchored" data-anchor-id="sec-apx-b-security"><span class="header-section-number">B.7</span> Security Considerations</h2>
<section id="data-privacy" class="level3" data-number="B.7.1">
<h3 data-number="B.7.1" class="anchored" data-anchor-id="data-privacy"><span class="header-section-number">B.7.1</span> Data Privacy</h3>
<p>Genomic data is sensitive: - Process in compliant environments (HIPAA, GDPR) - Encrypt data at rest and in transit - Implement access controls and audit logging - Consider on-premises deployment for sensitive data</p>
</section>
<section id="model-security" class="level3" data-number="B.7.2">
<h3 data-number="B.7.2" class="anchored" data-anchor-id="model-security"><span class="header-section-number">B.7.2</span> Model Security</h3>
<ul>
<li><strong>Input validation</strong>: Reject malformed sequences</li>
<li><strong>Rate limiting</strong>: Prevent abuse</li>
<li><strong>Authentication</strong>: Require API keys/tokens</li>
<li><strong>Model versioning</strong>: Track deployed versions for reproducibility</li>
</ul>
</section>
<section id="federated-learning" class="level3" data-number="B.7.3">
<h3 data-number="B.7.3" class="anchored" data-anchor-id="federated-learning"><span class="header-section-number">B.7.3</span> Federated Learning</h3>
<p>For multi-institution collaboration: - Train on distributed data without centralization - Share only model updates, not raw data - Enables learning from diverse populations - See <span class="quarto-unresolved-ref">?sec-ch09-emerging-approaches</span> for details</p>
</section>
</section>
<section id="sec-apx-b-architecture" class="level2" data-number="B.8">
<h2 data-number="B.8" class="anchored" data-anchor-id="sec-apx-b-architecture"><span class="header-section-number">B.8</span> Reference Architecture</h2>
<p>A production genomic model deployment might include:</p>
<pre><code>                                    ┌─────────────┐
                                    │  Model      │
                                    │  Registry   │
                                    └──────┬──────┘
                                           │
┌──────────┐    ┌──────────┐    ┌─────────▼─────────┐    ┌──────────┐
│  Client  │───►│   API    │───►│  Inference Server │───►│  Cache   │
│   App    │    │ Gateway  │    │  (Triton/vLLM)    │    │ (Redis)  │
└──────────┘    └────┬─────┘    └─────────┬─────────┘    └──────────┘
                     │                    │
                     ▼                    ▼
               ┌──────────┐        ┌──────────┐
               │ Metrics  │        │   GPU    │
               │(Prometheus)│       │ Cluster  │
               └──────────┘        └──────────┘</code></pre>
<p>Components: - <strong>API Gateway</strong>: Authentication, rate limiting, routing - <strong>Inference Server</strong>: Model hosting, batching, optimization - <strong>GPU Cluster</strong>: Kubernetes-managed GPU nodes - <strong>Cache</strong>: Store frequent predictions - <strong>Model Registry</strong>: Version and track deployed models - <strong>Metrics</strong>: Monitor performance and health</p>
</section>
<section id="sec-apx-b-checklist" class="level2" data-number="B.9">
<h2 data-number="B.9" class="anchored" data-anchor-id="sec-apx-b-checklist"><span class="header-section-number">B.9</span> Checklist for Production Deployment</h2>
<p>Before deploying a genomic model to production:</p>
<p><strong>Model Validation</strong></p>
<ul class="task-list">
<li><label><input type="checkbox">Validated on held-out test set matching deployment distribution</label></li>
<li><label><input type="checkbox">Evaluated across relevant subgroups (populations, variant types)</label></li>
<li><label><input type="checkbox">Calibration assessed and documented</label></li>
<li><label><input type="checkbox">Failure modes characterized</label></li>
</ul>
<p><strong>Infrastructure</strong></p>
<ul class="task-list">
<li><label><input type="checkbox">Hardware sized for expected load with headroom</label></li>
<li><label><input type="checkbox">Autoscaling configured for traffic variation</label></li>
<li><label><input type="checkbox">Rollback procedure tested</label></li>
<li><label><input type="checkbox">Disaster recovery plan in place</label></li>
</ul>
<p><strong>Monitoring</strong></p>
<ul class="task-list">
<li><label><input type="checkbox">Latency and throughput metrics tracked</label></li>
<li><label><input type="checkbox">Error alerting configured</label></li>
<li><label><input type="checkbox">Input/output distribution monitoring for drift</label></li>
<li><label><input type="checkbox">Resource utilization dashboards</label></li>
</ul>
<p><strong>Security</strong></p>
<ul class="task-list">
<li><label><input type="checkbox">Data encryption at rest and in transit</label></li>
<li><label><input type="checkbox">Access controls and authentication</label></li>
<li><label><input type="checkbox">Audit logging enabled</label></li>
<li><label><input type="checkbox">Compliance requirements verified</label></li>
</ul>
<p><strong>Documentation</strong></p>
<ul class="task-list">
<li><label><input type="checkbox">Model card with capabilities and limitations</label></li>
<li><label><input type="checkbox">API documentation</label></li>
<li><label><input type="checkbox">Runbook for common issues</label></li>
<li><label><input type="checkbox">Version history and changelog</label></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../appendix/app-a-dl.html" class="pagination-link" aria-label="Deep Learning Primer">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Deep Learning Primer</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../appendix/app-c-data-curation.html" class="pagination-link" aria-label="Data Curation">
        <span class="nav-page-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Data Curation</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright 2025-2026, Josh Meehl</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>