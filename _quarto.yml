project:
  type: book
  output-dir: docs
  resources:
    - CNAME

profile:
  default: draft
  group:
    - [draft, final]

book:
  title: "Genomic Foundation Models"
  author: "Josh Meehl"
  date: "1/6/2026"
  page-footer: "Copyright 2025-2026, Josh Meehl"
  chapters:
    - index.qmd
    - preface.qmd

    # Part I: Data Foundations (4 chapters)
    - part: "part_1/p1--foundations.qmd"
      chapters:
        - part_1/p1-ch01-ngs.qmd               # sec-ch01-ngs (sequencing tech, variant calling, data generation)
        - part_1/p1-ch02-data.qmd              # sec-ch02-data (ENCODE, GTEx, UK Biobank, training resources)
        - part_1/p1-ch03-gwas.qmd              # sec-ch03-gwas (polygenic scores, GWAS, heritability)
        - part_1/p1-ch04-vep-classical.qmd     # sec-ch04-vep-classical (pre-DL variant scoring, feature engineering)

    # Part II: Learning & Evaluation (8 chapters)
    - part: "part_2/p2--principles.qmd"
      chapters:
        - part_2/p2-ch05-representations.qmd   # sec-ch05-representations (tokenization, k-mers, BPE, embeddings)
        - part_2/p2-ch06-cnn.qmd               # sec-ch06-cnn (DeepSEA, ExPecto, SpliceAI, early DL)
        - part_2/p2-ch07-attention.qmd         # sec-ch07-attention (attention, architectures, scaling)
        - part_2/p2-ch08-pretraining.qmd       # sec-ch08-pretraining (pretraining, fine-tuning, generative objectives)
        - part_2/p2-ch09-transfer.qmd          # sec-ch09-transfer (transfer learning foundations)
        - part_2/p2-ch10-adaptation.qmd        # sec-ch10-adaptation (adaptation strategies, LoRA, fine-tuning) [SPLIT from ch09]
        - part_2/p2-ch11-benchmarks.qmd        # sec-ch11-benchmarks (benchmarks & evaluation) [MERGED from ch20+21]
        - part_2/p2-ch12-confounding.qmd       # sec-ch12-confounding (confounding, leakage) [MOVED from ch22]

    # Part III: Foundation Model Families (5 chapters)
    - part: "part_3/p3--architectures.qmd"
      chapters:
        - part_3/p3-ch13-fm-principles.qmd     # sec-ch13-fm-principles (foundation models)
        - part_3/p3-ch14-dna-lm.qmd            # sec-ch14-dna-lm (DNABERT, Nucleotide Transformer, HyenaDNA)
        - part_3/p3-ch15-protein-lm.qmd        # sec-ch15-protein-lm (ESM, protein language models, AlphaFold)
        - part_3/p3-ch16-regulatory.qmd        # sec-ch16-regulatory (Enformer, Borzoi, long-range models)
        - part_3/p3-ch17-vep-fm.qmd            # sec-ch17-vep-fm (variant effect prediction methods)

    # Part IV: Cellular Context (5 chapters)
    - part: "part_4/p4--cellular-context.qmd"
      chapters:
        - part_4/p4-ch18-rna.qmd               # sec-ch18-rna (RNA structure, RNA-FM, beyond splicing)
        - part_4/p4-ch19-single-cell.qmd       # sec-ch19-single-cell (single-cell, epigenomics)
        - part_4/p4-ch20-3d-genome.qmd         # sec-ch20-3d-genome (3D genome organization)
        - part_4/p4-ch21-networks.qmd          # sec-ch21-networks (GNNs, pathways, interaction graphs)
        - part_4/p4-ch22-multi-omics.qmd       # sec-ch22-multi-omics (multi-omics integration, cross-modal)

    # Part V: Responsible Deployment (4 chapters)
    - part: "part_5/p5--responsible-deployment.qmd"
      chapters:
        - part_5/p5-ch23-uncertainty.qmd       # sec-ch23-uncertainty (calibration, uncertainty quantification)
        - part_5/p5-ch24-interpretability.qmd  # sec-ch24-interpretability (attribution, mechanistic insight)
        - part_5/p5-ch25-causal.qmd            # sec-ch25-causal (causal inference with FMs) [NEW]
        - part_5/p5-ch26-regulatory.qmd        # sec-ch26-regulatory (FDA, governance, privacy) [SPLIT from ch29]

    # Part VI: Applications & Frontiers (5 chapters)
    - part: "part_6/p6--applications.qmd"
      chapters:
        - part_6/p6-ch27-clinical-risk.qmd     # sec-ch27-clinical-risk (risk models, deployment, health equity)
        - part_6/p6-ch28-rare-disease.qmd      # sec-ch28-rare-disease (rare disease, variant interpretation)
        - part_6/p6-ch29-drug-discovery.qmd    # sec-ch29-drug-discovery (drug discovery, target identification)
        - part_6/p6-ch30-design.qmd            # sec-ch30-design (protein/sequence design, bioengineering)
        - part_6/p6-ch31-frontiers.qmd         # sec-ch31-frontiers (open problems, emerging directions) [SPLIT from ch29]

  appendices:
    - appendix/app-a-dl.qmd                    # sec-apx-a-dl (deep learning primer)
    - appendix/app-b-compute.qmd               # sec-apx-b-compute (practical deployment, compute)
    - appendix/app-c-data-curation.qmd         # sec-apx-c-data-curation
    - appendix/app-d-models.qmd                # sec-apx-d-models (comprehensive model reference)
    - appendix/app-e-resources.qmd             # sec-apx-e-resources (datasets, tools, links)
    - appendix/app-f-glossary.qmd              # sec-apx-f-glossary (terminology)
  references: bib/references.qmd

# csl: nature.csl
bibliography:
  # Part 1
  - bib/p1/p1-ch01.bib
  - bib/p1/p1-ch02.bib
  - bib/p1/p1-ch03.bib
  - bib/p1/p1-ch04.bib
  # Part 2
  - bib/p2/p2-ch05.bib
  - bib/p2/p2-ch06.bib
  - bib/p2/p2-ch07.bib
  - bib/p2/p2-ch08.bib
  - bib/p2/p2-ch09.bib
  - bib/p2/p2-ch10.bib
  - bib/p2/p2-ch11.bib
  - bib/p2/p2-ch12.bib
  # Part 3
  - bib/p3/p3-ch13.bib
  - bib/p3/p3-ch14.bib
  - bib/p3/p3-ch15.bib
  - bib/p3/p3-ch16.bib
  - bib/p3/p3-ch17.bib
  # Part 4
  - bib/p4/p4-ch18.bib
  - bib/p4/p4-ch19.bib
  - bib/p4/p4-ch20.bib
  - bib/p4/p4-ch21.bib
  - bib/p4/p4-ch22.bib
  # Part 5
  - bib/p5/p5-ch23.bib
  - bib/p5/p5-ch24.bib
  - bib/p5/p5-ch25.bib
  - bib/p5/p5-ch26.bib
  # Part 6
  - bib/p6/p6-ch27.bib
  - bib/p6/p6-ch28.bib
  - bib/p6/p6-ch29.bib
  - bib/p6/p6-ch30.bib
  - bib/p6/p6-ch31.bib
  # Appendices
  - bib/apx/app-a.bib
  - bib/apx/app-b.bib
  - bib/apx/app-c.bib
  - bib/apx/app-d.bib
  - bib/apx/app-e.bib
  - bib/apx/app-f.bib


format:
  html:
    # search: true
    theme:
      light:
        - cosmo
        - brand
      dark:
        - darkly
    css: styles.css
    # js: glossary.js
    grid:
      sidebar-width: 300px
  # pdf:
  #   documentclass: scrbook
  #   geometry:
  #     - margin=1in



